{"ast":null,"code":"/*\r\nAPI key: PYUXRI5IDPDXBAJKYY\r\nClient secret: VNT5L5T47B667YWGWREPP4BLN5UWHS47HE7IHCBA2J2FTOUKDM\r\nPrivate token: NEMSZJPVJRTZ2W7LCY2F\r\nPublic token: R5JZMBXB5WSTIZ64PXGC\r\n\r\norganization id: 2404201774443;\r\n\r\n!!! IMPORTANT REQUEST URLS !!!\r\nGET 'https://www.eventbriteapi.com/v3/users/me/organizations/' gets organization id\r\nGET `https://www.eventbriteapi.com/v3/users/me/?token=${token}` verifies subscription exists\r\nGET `https://www.eventbriteapi.com/v3/organizations/${id}/events/?time_filter=all` lists all events (all is all events current_future is all future events)\r\nGET `https://www.eventbriteapi.com/v3/events/{event_id}/?expand=ticket_availability` ticket availability\r\n\r\n\r\n\r\n*/\nimport axios from \"axios\";\nimport { insertEvents } from \"./mongo\";\nasync function getEvents() {\n  const id = \"2404201774443\";\n  const url = `https://www.eventbriteapi.com/v3/organizations/${id}/events/?time_filter=all`;\n  const token = \"NEMSZJPVJRTZ2W7LCY2F\";\n  // const url = `https://www.eventbriteapi.com/v3/users/me/?token=${token}`;\n\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    let res = response.data;\n    console.log(res);\n    let events = res.events;\n    await insertEvents(events);\n    let eventsDis = events.map(m => `<li><ul><li>Name:${m.name.text}</li><li>url: ${m.url}</li><li>Capacity: ${m.capacity}</li><li><a href=\"/checkout\">Buy Tickets</a></li></li></ul></li>`);\n    document.querySelector(\"#events\").innerHTML = `<ul>${eventsDis}</ul>`;\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n}\nexport default getEvents;","map":{"version":3,"names":["axios","insertEvents","getEvents","id","url","token","response","get","headers","Authorization","res","data","console","log","events","eventsDis","map","m","name","text","capacity","document","querySelector","innerHTML","error"],"sources":["C:/Users/holla/circus-website2/src/API.js"],"sourcesContent":["/*\r\nAPI key: PYUXRI5IDPDXBAJKYY\r\nClient secret: VNT5L5T47B667YWGWREPP4BLN5UWHS47HE7IHCBA2J2FTOUKDM\r\nPrivate token: NEMSZJPVJRTZ2W7LCY2F\r\nPublic token: R5JZMBXB5WSTIZ64PXGC\r\n\r\norganization id: 2404201774443;\r\n\r\n!!! IMPORTANT REQUEST URLS !!!\r\nGET 'https://www.eventbriteapi.com/v3/users/me/organizations/' gets organization id\r\nGET `https://www.eventbriteapi.com/v3/users/me/?token=${token}` verifies subscription exists\r\nGET `https://www.eventbriteapi.com/v3/organizations/${id}/events/?time_filter=all` lists all events (all is all events current_future is all future events)\r\nGET `https://www.eventbriteapi.com/v3/events/{event_id}/?expand=ticket_availability` ticket availability\r\n\r\n\r\n\r\n*/\r\nimport axios from \"axios\";\r\nimport { insertEvents } from \"./mongo\";\r\n\r\n\r\nasync function getEvents() {\r\n  const id = \"2404201774443\";\r\n  const url = `https://www.eventbriteapi.com/v3/organizations/${id}/events/?time_filter=all`;\r\n  const token = \"NEMSZJPVJRTZ2W7LCY2F\";\r\n  // const url = `https://www.eventbriteapi.com/v3/users/me/?token=${token}`;\r\n\r\n  try {\r\n    const response = await axios.get(url, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    let res = response.data;\r\n\r\n    console.log(res);\r\n    let events = res.events;\r\n    await insertEvents(events);\r\n    let eventsDis = events.map(\r\n      (m) =>\r\n        `<li><ul><li>Name:${m.name.text}</li><li>url: ${m.url}</li><li>Capacity: ${m.capacity}</li><li><a href=\"/checkout\">Buy Tickets</a></li></li></ul></li>`\r\n    );\r\n    document.querySelector(\"#events\").innerHTML = `<ul>${eventsDis}</ul>`;\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n}\r\nexport default getEvents;\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,SAAS;AAGtC,eAAeC,SAASA,CAAA,EAAG;EACzB,MAAMC,EAAE,GAAG,eAAe;EAC1B,MAAMC,GAAG,GAAG,kDAAkDD,EAAE,0BAA0B;EAC1F,MAAME,KAAK,GAAG,sBAAsB;EACpC;;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACH,GAAG,EAAE;MACpCI,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUJ,KAAK;MAChC;IACF,CAAC,CAAC;IACF,IAAIK,GAAG,GAAGJ,QAAQ,CAACK,IAAI;IAEvBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAChB,IAAII,MAAM,GAAGJ,GAAG,CAACI,MAAM;IACvB,MAAMb,YAAY,CAACa,MAAM,CAAC;IAC1B,IAAIC,SAAS,GAAGD,MAAM,CAACE,GAAG,CACvBC,CAAC,IACA,oBAAoBA,CAAC,CAACC,IAAI,CAACC,IAAI,iBAAiBF,CAAC,CAACb,GAAG,sBAAsBa,CAAC,CAACG,QAAQ,kEACzF,CAAC;IACDC,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC,CAACC,SAAS,GAAG,OAAOR,SAAS,OAAO;EACvE,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdZ,OAAO,CAACY,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF;AACA,eAAetB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}